(this.webpackJsonpblogclient=this.webpackJsonpblogclient||[]).push([[0],{188:function(e,t,n){e.exports=n(339)},193:function(e,t,n){},194:function(e,t,n){},339:function(e,t,n){"use strict";n.r(t);var a=n(24),o=n(25),l=n(44),r=n(40),i=n(45),c=n(0),u=n.n(c),s=n(7),m=n.n(s),h=(n(193),n(49)),d=n(171),f=(n(194),function(){function e(t,n,o,l){Object(a.a)(this,e),this.ID=t,this.AUTHOR=n,this.TEXT=o,this.TAGS=l,this.TIME="null"}return Object(o.a)(e,[{key:"getID",value:function(){return this.ID}},{key:"getAuthor",value:function(){return this.AUTHOR}},{key:"getText",value:function(){return this.TEXT}},{key:"setText",value:function(e){this.TEXT=e}},{key:"getTags",value:function(){return this.TAGS}},{key:"setTags",value:function(e){this.TAGS=e}},{key:"setTIME",value:function(e){var t=new Date(parseInt(e));this.TIME=t.toUTCString(),console.log("time: "+this.TIME)}},{key:"getTIME",value:function(){return this.TIME}}]),e}()),g=n(371),v=n(376),p=n(386),E=n(377),b=n(80),y=n(385),T=n(163),O=n.n(T),w=n(164),j=n.n(w),C=n(378),k=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"removePost",value:function(e){console.log("remove id:"+e),fetch("http://localhost:8080/delete/"+e,{method:"DELETE"})}},{key:"addPostWithTags",value:function(e,t,n,a){if(a.length>=2){for(var o=[],l=0;l<a.length;l++)o.push({tagId:a[l]});var r={blogId:e,author:t,text:n,tags:o};console.log("data: "+JSON.stringify(r)),fetch("http://localhost:8080/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){console.log("data send")}))}else alert("add least 2 tags. (separate tags with ,)")}},{key:"addNewPost",value:function(e,t,n){if(n.length>=2){for(var a=[],o=0;o<n.length;o++)a.push({tagId:n[o]});var l={author:e,text:t,tags:a};console.log("data: "+JSON.stringify(l)),fetch("http://localhost:8080/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){console.log("data send")}))}else alert("add least 2 tags. (separate tags with ,)")}},{key:"addComment",value:function(e,t){var n={author:e.getAuthor(),text:e.getText()};fetch("http://localhost:8080/comment/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}},{key:"changeComment",value:function(e,t){var n=e.getAuthor(),a=e.getText(),o={commentId:e.getID(),author:n,text:a};console.log("data= "+JSON.stringify(o)),fetch("http://localhost:8080/comment/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})}}]),e}(),x=n(384),S=n(78),I=n.n(S),A=n(166),D=n.n(A),N=n(165),J=n.n(N),W=n(160),M=n(172),P=n(373),R=n(375),U=Object(g.a)((function(e){return{root:{width:"100%",height:"85vh",backgroundColor:e.palette.background.paper}}}));var X,H=function(e){var t=U(),n=e.lista;return u.a.createElement("div",{className:t.root},u.a.createElement(W.a,null,(function(e){var t=e.height,a=e.width;return u.a.createElement(M.a,{height:t,width:a,itemSize:500,itemCount:n.length},(function(e){for(var t=e.index,a=(e.style,n[t].getText()),o="",l=0;l<10;l++)o+=a.charAt(l);o+="...";var r=n[t].getID();return u.a.createElement(P.a,{key:t,onClick:function(){return e=r,void window.location.assign("../show/"+e);var e},style:{cursor:"pointer"}},u.a.createElement(y.a,{width:1},u.a.createElement(R.a,{primary:o})))}))})))},B=n(161),G=n.n(B),V=n(162),z=n.n(V),L=[];var q,Y,$=function(){var e=u.a.useReducer((function(e){return e+1}),0),t=Object(h.a)(e,2)[1];return u.a.createElement(z.a,null,u.a.createElement("div",null,u.a.createElement(G.a,{onChange:function(e){X=e,console.log("searchWord: "+X)},onRequestSearch:function(){fetch("http://localhost:8080/search/"+X).then((function(e){return e.json()})).then((function(e){L=[];var t=!0,n=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var r=o.value;L.push(new f(r.blogId,r.author,r.text,r.tags))}}catch(i){n=!0,a=i}finally{try{t||null==l.return||l.return()}finally{if(n)throw a}}})).then((function(e){return t()}))},style:{margin:"0 auto",maxWidth:800}}),u.a.createElement("br",null),u.a.createElement(H,{lista:L})))},F=[],K=!0,Q=[];function Z(e){var t=e.children,n=e.value,a=e.index,o=Object(d.a)(e,["children","value","index"]);return u.a.createElement(b.a,Object.assign({component:"div",role:"tabpanel",hidden:n!==a,id:"scrollable-force-tabpanel-".concat(a),"aria-labelledby":"scrollable-force-tab-".concat(a)},o),n===a&&u.a.createElement(y.a,{p:3},t))}function _(e){return{id:"scrollable-force-tab-".concat(e),"aria-controls":"scrollable-force-tabpanel-".concat(e)}}function ee(e,t){e?fetch("http://localhost:8080/blogs/").then((function(e){return e.json()})).then((function(e){console.log("json: "+JSON.stringify(e));var t=!0,n=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var r=o.value;F.push(new f(r.blogId,r.author,r.text,r.tags))}}catch(i){n=!0,a=i}finally{try{t||null==l.return||l.return()}finally{if(n)throw a}}K=!1})).then((function(e){console.log(F.length),t()})):fetch("http://localhost:8080/blogs/").then((function(e){return e.json()})).then((function(e){console.log("json: "+JSON.stringify(e)),F=[];var t=!0,n=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var r=o.value;F.push(new f(r.blogId,r.author,r.text,r.tags))}}catch(i){n=!0,a=i}finally{try{t||null==l.return||l.return()}finally{if(n)throw a}}})).then((function(e){console.log(F.length),t()}))}var te=Object(g.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));var ne=function(){var e=te(),t=u.a.useState(0),n=Object(h.a)(t,2),a=n[0],o=n[1],l=u.a.useReducer((function(e){return e+1}),0),r=Object(h.a)(l,2)[1];return Object(c.useEffect)((function(){K&&ee(!0,r)})),u.a.createElement("div",{className:e.root},u.a.createElement(v.a,{position:"static",color:"default"},u.a.createElement(p.a,{value:a,onChange:function(e,t){o(t)},variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary","aria-label":"scrollable force tabs example"},u.a.createElement(E.a,Object.assign({label:"Show posts",icon:u.a.createElement(O.a,null)},_(0))),u.a.createElement(E.a,Object.assign({label:"Add new post",icon:u.a.createElement(j.a,null)},_(1))),u.a.createElement(E.a,Object.assign({label:"Search",icon:u.a.createElement(J.a,null)},_(2))))),u.a.createElement(Z,{value:a,index:0},u.a.createElement(H,{lista:F})),u.a.createElement(Z,{value:a,index:1},u.a.createElement(I.a,null,u.a.createElement("form",{noValidate:!0,autoComplete:"off"},u.a.createElement(x.a,{id:"outlinedBasic",label:"Author",variant:"outlined",onChange:function(e){Y=e.target.value}}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(x.a,{id:"outlinedMultiline",label:"Text",multiline:!0,rows:"4",variant:"outlined",onChange:function(e){q=e.target.value}}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(x.a,{id:"tags",label:"Tags",variant:"outlined",onChange:function(e){var t=e.target.value;Q=t.split(",")}}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(C.a,{variant:"contained",color:"primary",size:"large",startIcon:u.a.createElement(D.a,null),onClick:function(){k.prototype.addNewPost(Y,q,Q),setTimeout((function(){ee(!1,r)}),500)}},"Save")))),u.a.createElement(Z,{value:a,index:2},u.a.createElement($,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae,oe,le,re=n(168),ie=n(50),ce=n(383),ue=n(167),se=n.n(ue),me=n(379),he=n(93),de=n.n(he),fe=n(388),ge=n(380),ve=n(381),pe=n(382),Ee=n(389),be=n(341),ye=function(){function e(t,n){Object(a.a)(this,e),this.AUTHOR=t,this.TEXT=n,this.ID=0}return Object(o.a)(e,[{key:"getAuthor",value:function(){return this.AUTHOR}},{key:"getText",value:function(){return this.TEXT}},{key:"setAuthor",value:function(e){this.AUTHOR=e}},{key:"setText",value:function(e){this.TEXT=e}},{key:"setID",value:function(e){this.ID=e}},{key:"getID",value:function(){return this.ID}}]),e}(),Te=Object(g.a)((function(e){return{root:{width:"100%",height:"40vh",backgroundColor:e.palette.background.paper,overflowY:"scroll"},listaus:{listStyleType:"none"}}}));var Oe,we,je,Ce,ke,xe=function(e){for(var t=Te(),n=e.lista,a=e.id,o=u.a.useState(!1),l=Object(h.a)(o,2),r=l[0],i=l[1],c=u.a.useReducer((function(e){return e+1}),0),s=Object(h.a)(c,2)[1],m=function(){var e=new ye(le,ae);e.setID(oe),k.prototype.changeComment(e,a),setTimeout((function(){i(!1),s()}),700)},d=[],f=function(e){d.push(u.a.createElement("li",null,u.a.createElement("h5",null,"Author: ",n[e].getAuthor(),u.a.createElement(me.a,{color:"primary","aria-label":"modify",onClick:function(){var t;oe=n[t=e].getID(),ae=n[t].getText(),le=n[t].getAuthor(),i(!0)}},u.a.createElement(de.a,null))),u.a.createElement("p",null,n[e].getText())))},g=0;g<n.length;g++)f(g);return u.a.createElement("div",null,u.a.createElement("div",{className:t.root},u.a.createElement("h2",null,"Comments:"),u.a.createElement("ul",{className:t.listaus},d)),u.a.createElement(fe.a,{open:r,onClose:m,"aria-labelledby":"form-dialog-title"},u.a.createElement(ge.a,{id:"form-dialog-title"},"Modify this blog post"),u.a.createElement(ve.a,null,u.a.createElement("h4",null,le),u.a.createElement(x.a,{margin:"dense",multiline:!0,id:"modifyText",label:"Text",defaultValue:ae,onChange:function(e){ae=e.target.value},fullWidth:!0})),u.a.createElement(pe.a,null,u.a.createElement(C.a,{onClick:function(){i(!1)},color:"primary"},"Cancel"),u.a.createElement(C.a,{onClick:m,color:"primary"},"Save"))))},Se=!1,Ie=!1,Ae=[],De=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(r.a)(t).call(this,e))).state={id:0},n}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.blog;console.log("ShowOne data: "+e),Se=!0,this.setState({id:e,open:!1,comment:!1,allcomments:[]})}},{key:"render",value:function(){var e=this,t=Object(g.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}},root2:{width:"100%",height:"85vh",backgroundColor:e.palette.background.paper}}})),n=function(){k.prototype.addPostWithTags(Oe.getID(),je,we,Ae),setTimeout((function(){Se=!0,Ie=!1,e.setState({open:!1})}),700)},a=function(){var t=new ye(Ce,ke);k.prototype.addComment(t,e.state.id),setTimeout((function(){window.location.reload()}),750)};if(Se){var o=this.state.id,l=[];fetch("http://localhost:8080/blogs/"+o).then((function(e){return e.json()})).then((function(e){console.log("json in showdata: "+JSON.stringify(e)),(Oe=new f(e.blogId,e.author,e.text,e.tags)).setTIME(e.creationTime)})).then((function(t){Se=!1,Ie=!0,fetch("http://localhost:8080/comment/"+o).then((function(e){return e.json()})).then((function(e){var t=!0,n=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var i=o.value,c=new ye(i.author,i.text);c.setID(i.commentId),l.push(c)}}catch(u){n=!0,a=u}finally{try{t||null==r.return||r.return()}finally{if(n)throw a}}})).then((function(t){e.setState({id:o,allcomments:l})}))}))}if(Ie){var r=Oe.getTags(),i=this.state.allcomments;return u.a.createElement("div",null,u.a.createElement(ce.a,{container:!0,spacing:3},u.a.createElement(ce.a,{item:!0,xs:8},Oe.getText()),u.a.createElement(ce.a,{item:!0,xs:4},u.a.createElement("h2",null,"Author: ",Oe.getAuthor()),u.a.createElement("br",null),u.a.createElement("h3",null,"Create time: ",Oe.getTIME()),u.a.createElement("br",null),u.a.createElement(me.a,{color:"primary","aria-label":"modify",onClick:function(){je=Oe.getAuthor(),we=Oe.getText(),Ae=Oe.getTags(),e.setState({open:!0})}},u.a.createElement(de.a,null)),u.a.createElement("br",null),u.a.createElement(C.a,{variant:"contained",color:"secondary",onClick:function(){k.prototype.removePost(Oe.getID()),setTimeout((function(){window.location.assign("../deletion")}),1e3)},startIcon:u.a.createElement(se.a,null)},"Delete"),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h3",null,"Tags:"),u.a.createElement("br",null),u.a.createElement(be.a,{className:t.root},r.map((function(e){return u.a.createElement(Ee.a,{label:e.tagId,onClick:function(){window.location.assign("../showtag/"+e.tagId)}})}))))),u.a.createElement(ce.a,{item:!0,spacing:3,xs:12},u.a.createElement(C.a,{variant:"contained",color:"primary",onClick:function(){e.setState({comment:!0})}},"Add new comment"),u.a.createElement(xe,{lista:i,id:this.state.id})),u.a.createElement(fe.a,{open:this.state.open,onClose:n,"aria-labelledby":"form-dialog-title"},u.a.createElement(ge.a,{id:"form-dialog-title"},"Modify this blog post"),u.a.createElement(ve.a,null,u.a.createElement(x.a,{margin:"dense",id:"modifyAuthor",label:"Author",defaultValue:je,onChange:function(e){je=e.target.value},fullWidth:!0}),u.a.createElement(x.a,{margin:"dense",multiline:!0,id:"modifyText",label:"Text",defaultValue:we,onChange:function(e){we=e.target.value},fullWidth:!0}),u.a.createElement(x.a,{margin:"dense",id:"modifyTags",label:"Tags",onChange:function(e){var t=e.target.value;Ae=t.split(",")},fullWidth:!0})),u.a.createElement(pe.a,null,u.a.createElement(C.a,{onClick:function(){e.setState({open:!1})},color:"primary"},"Cancel"),u.a.createElement(C.a,{onClick:n,color:"primary"},"Save"))),u.a.createElement(fe.a,{open:this.state.comment,onClose:a,"aria-labelledby":"form-dialog-title"},u.a.createElement(ge.a,{id:"form-dialog-title"},"Add new comment"),u.a.createElement(ve.a,null,u.a.createElement(x.a,{margin:"dense",id:"authorcomment",label:"Author",onChange:function(e){var t=e.target.value;Ce=t},fullWidth:!0}),u.a.createElement(x.a,{margin:"dense",id:"textcomment",label:"Text",onChange:function(e){var t=e.target.value;ke=t},fullWidth:!0})),u.a.createElement(pe.a,null,u.a.createElement(C.a,{onClick:function(){e.setState({comment:!1})},color:"primary"},"Cancel"),u.a.createElement(C.a,{onClick:a,color:"primary"},"Save"))))}return u.a.createElement("div",null,u.a.createElement("h1",null,"Downloading..."))}}]),t}(u.a.Component),Ne=function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));return u.a.createElement(I.a,null,u.a.createElement("div",null,u.a.createElement("h1",{style:{color:"green"}},"Delete done"),u.a.createElement("br",null),u.a.createElement(I.a,{className:e.root},u.a.createElement(C.a,{variant:"contained",onClick:function(){window.location.assign("../")},color:"primary"},"Ok"))))}}]),t}(u.a.Component),Je=!1,We=!1,Me=[],Pe=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(r.a)(t).call(this,e))).state={id:0},n}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.tag;Je=!0,this.setState({id:e})}},{key:"render",value:function(){var e=this;if(Je){var t={tagId:this.state.id};fetch("http://localhost:8080/blogsWithTag",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log("json: "+JSON.stringify(e));var t=!0,n=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var r=o.value;Me.push(new f(r.blogId,r.author,r.text,r.tags))}}catch(i){n=!0,a=i}finally{try{t||null==l.return||l.return()}finally{if(n)throw a}}})).then((function(t){Je=!1,We=!0,e.setState({id:e.state.id})}))}return We?u.a.createElement("div",null,u.a.createElement("h1",null,"List of posts with: ",this.state.id),u.a.createElement(H,{lista:Me})):u.a.createElement("h1",null,"Downloading...")}}]),t}(u.a.Component),Re=function(){return u.a.createElement(ne,null)},Ue=function(e){return u.a.createElement(De,e)},Xe=function(){return u.a.createElement(Ne,null)},He=function(e){return u.a.createElement(Pe,e)},Be=function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement(re.a,null,u.a.createElement(ie.a,{exact:!0,path:"/",component:Re}),u.a.createElement(ie.a,{path:"/show/:blog",component:Ue}),u.a.createElement(ie.a,{path:"/deletion",component:Xe}),u.a.createElement(ie.a,{path:"/showtag/:tag",component:He}))}}]),t}(u.a.Component);m.a.render(u.a.createElement(Be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[188,1,2]]]);
//# sourceMappingURL=main.1fb8003d.chunk.js.map